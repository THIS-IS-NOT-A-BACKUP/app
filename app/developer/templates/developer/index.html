{% extends 'default.html' %}

{% set active_page = "developer" %}

{% block title %}
  Developer
{% endblock %}

{% block default_content %}
  {% if not clients %}
    <div class="alert alert-primary" role="alert">
      <strong>If you have a website or a mobile application and want to add SimpleLogin to it, this page is for
        you!</strong>
      <p>Have a look at our extensive doc to have an idea ðŸ‘‰
        <a href="https://docs.simplelogin.io" target="_blank" rel="noopener">Docs <i class="fe fe-external-link"></i>
        </a>
      </p>
      <p>Create your first SimpleLogin App here ðŸ‘‡</p>
    </div>
  {% endif %}

  <div class="row">
    <div class="col">
      <div class="btn-group" role="group" aria-label="Basic example">
        <a href="{{ url_for('developer.new_client') }}" class="btn btn-primary">
          Create new website/app
        </a>
        <a href="https://docs.simplelogin.io" target="_blank" class="ml-2 btn btn-secondary">
          Docs <i class="fe fe-external-link"></i>
        </a>
      </div>
    </div>
  </div>



  <div class="row row-cards row-deck mt-4">
    {% for client in clients %}
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <div class="card-title d-flex align-items-center">
              {% if client.icon_id %}
                <span class="avatar mr-2" style="background-image: url({{ client.icon.get_url() }})"></span>
              {% endif %}
              <span class="">
                <a href="{{ url_for('developer.client_detail', client_id=client.id) }}">
                  {{ client.name }}
                </a>
                {% if client.approved %}
                  <span class="cursor" data-toggle="tooltip" data-original-title="Approved">âœ…</span>
                {% else %}
                  <span class="cursor" data-toggle="tooltip" data-original-title="In Dev mode">
                    <a href="{{ url_for('developer.client_detail', client_id=client.id) }}"
                      class="text-decoration-none">ðŸš«
                    </a>
                  </span>
                {% endif %}
              </span>
            </div>

            <div class="card-options">
              <a href="{{ url_for('developer.client_detail', client_id=client.id) }}"
                 class="btn btn-primary btn-sm">
                Edit
              </a>
            </div>
          </div>

          <div class="card-body">
            <span class="h1 m-0">{{ client.nb_user() }}</span> Users <br>
            Created {{ client.created_at |dt }} <br>
            {% if client.last_user_login() %}
              Last User Login: {{ client.last_user_login().get_user_name() }}
            {% endif %}
          </div>

        </div>
      </div>
    {% endfor %}
  </div>

{% endblock %}



